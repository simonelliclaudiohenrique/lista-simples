import{Q as V,a as $}from"./QBanner-bxEdjsGL.js";import{Q as c,c as B}from"./QBtn-B0-92AL-.js";import{u as N,Q as q,a as b,b as I}from"./localbase-CrwazLgz.js";import{y as w,r as m,H as k,C as u,E as a,K as n,D as s,I as K,G as g,B as _,F as M,L as C,M as S,N as z,J as p,O as h,v as D}from"./index-DvVnWaeK.js";import{u as E,_ as F}from"./listaStore-pWa4EG2t.js";import"./pinia-CJsrchN2.js";const P={class:""},U={class:"q-pa-md q-gutter-md"},j={class:"row"},A={class:"col-8"},G={class:"text-subtitle1"},H={class:"col-4 row items-center justify-end q-gutter-xs"},J={class:"text-caption"},O=w({__name:"ListComponent",setup(Q){const l=N(),o=E(),r=m(!1),d=m(""),f=m(""),x=i=>{f.value=i.key,d.value=i.data.description,r.value=!0},v=async()=>{l.loading.show(),await o.updateList(f.value,d.value),await o.carregarListas(),r.value=!1,d.value="",l.loading.hide()},L=async i=>{l.loading.show(),await o.removeList(i),await o.carregarListas(),l.loading.hide()};return(i,t)=>(u(),k("div",P,[a(F,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e)},{title:s(()=>t[2]||(t[2]=[g(" Atualizar lista ")])),actions:s(()=>[a(c,{flat:"",label:"confirmar",onClick:v})]),default:s(()=>[a(q,{dense:"",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),autofocus:"",onKeyup:K(v,["enter"])},null,8,["modelValue"])]),_:1},8,["modelValue"]),n("div",U,[C(o).lists.length===0?(u(),_(V,{key:0,rounded:"",class:"bg-primary text-white"},{avatar:s(()=>[a(B,{name:"info"})]),default:s(()=>[t[3]||(t[3]=g(" Nenhuma lista cadastrada "))]),_:1})):M("",!0),(u(!0),k(S,null,z(C(o).lists,e=>(u(),_(I,{key:e?.key,class:"my-card cursor-pointer",onClick:y=>i.$router.push(`/list/${e.key}`)},{default:s(()=>[a(b,null,{default:s(()=>[n("div",j,[n("div",A,[n("div",G,p(e?.data?.description),1)]),n("div",H,[n("div",J,p(e?.data?.quantity||0)+"/"+p(e?.data?.total||0),1),n("div",null,[a(c,{size:"sm",color:"primary",flat:"",round:"",dense:"",icon:"edit",onClick:h(y=>x(e),["stop"])},null,8,["onClick"]),a(c,{size:"sm",color:"primary",flat:"",round:"",dense:"",icon:"delete",onClick:h(y=>L(e.key),["stop"])},null,8,["onClick"])])])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))])]))}}),ee=w({__name:"IndexPage",setup(Q){const l=D([]);return(o,r)=>(u(),_($,{class:""},{default:s(()=>[a(O,{title:"Example component",active:"",lists:l},null,8,["lists"])]),_:1}))}});export{ee as default};
