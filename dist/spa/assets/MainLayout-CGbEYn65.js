import{c as Q,a as m,h as b,r as p,i as j,o as R,g as P,b as k,n as ee,d as J,l as U,e as W,f as C,j as N,w,p as te,k as ae,s as le,m as ie,q as re,t as se,u as D,v as B,x as ue,y as ce,z as de,A as fe,B as I,C as F,D as T,E as $,F as ve,G as X,H as me,I as O,J as he}from"./index-DvVnWaeK.js";import{h as A,a as ge,b as oe,Q as M}from"./QBtn-B0-92AL-.js";import{u as ye,Q as _}from"./localbase-CrwazLgz.js";import{u as be,_ as pe}from"./listaStore-pWa4EG2t.js";import{u as we}from"./listaItemStore-DqfogBTF.js";import"./pinia-CJsrchN2.js";const ze=Q({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:h}){const a=m(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>b("div",{class:a.value},A(h.default))}}),qe=Q({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:h}){const a=m(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>b("div",{class:a.value,role:"toolbar"},A(h.default))}});function Ve(){const e=p(!j.value);return e.value===!1&&R(()=>{e.value=!0}),{isHydrated:e}}const ne=typeof ResizeObserver<"u",Y=ne===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},E=Q({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:h}){let a=null,o,t={width:-1,height:-1};function i(d){d===!0||e.debounce===0||e.debounce==="0"?r():a===null&&(a=setTimeout(r,e.debounce))}function r(){if(a!==null&&(clearTimeout(a),a=null),o){const{offsetWidth:d,offsetHeight:c}=o;(d!==t.width||c!==t.height)&&(t={width:d,height:c},h("resize",t))}}const{proxy:f}=P();if(f.trigger=i,ne===!0){let d;const c=y=>{o=f.$el.parentNode,o?(d=new ResizeObserver(i),d.observe(o),r()):y!==!0&&J(()=>{c(!0)})};return R(()=>{c()}),k(()=>{a!==null&&clearTimeout(a),d!==void 0&&(d.disconnect!==void 0?d.disconnect():o&&d.unobserve(o))}),ee}else{let d=function(){a!==null&&(clearTimeout(a),a=null),s!==void 0&&(s.removeEventListener!==void 0&&s.removeEventListener("resize",i,U.passive),s=void 0)},c=function(){d(),o?.contentDocument&&(s=o.contentDocument.defaultView,s.addEventListener("resize",i,U.passive),r())};const{isHydrated:y}=Ve();let s;return R(()=>{J(()=>{o=f.$el,o&&c()})}),k(d),()=>{if(y.value===!0)return b("object",{class:"q--avoid-card-border",style:Y.style,tabindex:-1,type:"text/html",data:Y.url,"aria-hidden":"true",onLoad:c})}}}}),Se=Q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:a}){const{proxy:{$q:o}}=P(),t=W(N,C);if(t===C)return console.error("QHeader needs to be child of QLayout"),C;const i=p(parseInt(e.heightHint,10)),r=p(!0),f=m(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||o.platform.is.ios&&t.isContainer.value===!0),d=m(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return r.value===!0?i.value:0;const l=i.value-t.scroll.value.position;return l>0?l:0}),c=m(()=>e.modelValue!==!0||f.value===!0&&r.value!==!0),y=m(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),s=m(()=>"q-header q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),V=m(()=>{const l=t.rows.value.top,q={};return l[0]==="l"&&t.left.space===!0&&(q[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),l[2]==="r"&&t.right.space===!0&&(q[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),q});function u(l,q){t.update("header",l,q)}function S(l,q){l.value!==q&&(l.value=q)}function z({height:l}){S(i,l),u("size",l)}function L(l){y.value===!0&&S(r,!0),a("focusin",l)}w(()=>e.modelValue,l=>{u("space",l),S(r,!0),t.animate()}),w(d,l=>{u("offset",l)}),w(()=>e.reveal,l=>{l===!1&&S(r,e.modelValue)}),w(r,l=>{t.animate(),a("reveal",l)}),w(t.scroll,l=>{e.reveal===!0&&S(r,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const H={};return t.instances.header=H,e.modelValue===!0&&u("size",i.value),u("space",e.modelValue),u("offset",d.value),k(()=>{t.instances.header===H&&(t.instances.header=void 0,u("size",0),u("offset",0),u("space",!1))}),()=>{const l=ge(h.default,[]);return e.elevated===!0&&l.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(b(E,{debounce:0,onResize:z})),b("header",{class:s.value,style:V.value,onFocusin:L},l)}}}),xe=Q({name:"QPageContainer",setup(e,{slots:h}){const{proxy:{$q:a}}=P(),o=W(N,C);if(o===C)return console.error("QPageContainer needs to be child of QLayout"),C;te(ae,!0);const t=m(()=>{const i={};return o.header.space===!0&&(i.paddingTop=`${o.header.size}px`),o.right.space===!0&&(i[`padding${a.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(i.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(i[`padding${a.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),i});return()=>b("div",{class:"q-page-container",style:t.value},A(h.default))}}),$e=Q({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:a}){const{proxy:{$q:o}}=P(),t=W(N,C);if(t===C)return console.error("QFooter needs to be child of QLayout"),C;const i=p(parseInt(e.heightHint,10)),r=p(!0),f=p(j.value===!0||t.isContainer.value===!0?0:window.innerHeight),d=m(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||o.platform.is.ios&&t.isContainer.value===!0),c=m(()=>t.isContainer.value===!0?t.containerHeight.value:f.value),y=m(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return r.value===!0?i.value:0;const n=t.scroll.value.position+c.value+i.value-t.height.value;return n>0?n:0}),s=m(()=>e.modelValue!==!0||d.value===!0&&r.value!==!0),V=m(()=>e.modelValue===!0&&s.value===!0&&e.reveal===!0),u=m(()=>"q-footer q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(s.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(d.value!==!0?" hidden":""):"")),S=m(()=>{const n=t.rows.value.bottom,g={};return n[0]==="l"&&t.left.space===!0&&(g[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),n[2]==="r"&&t.right.space===!0&&(g[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),g});function z(n,g){t.update("footer",n,g)}function L(n,g){n.value!==g&&(n.value=g)}function H({height:n}){L(i,n),z("size",n)}function l(){if(e.reveal!==!0)return;const{direction:n,position:g,inflectionPoint:x}=t.scroll.value;L(r,n==="up"||g-x<100||t.height.value-c.value-g-i.value<300)}function q(n){V.value===!0&&L(r,!0),a("focusin",n)}w(()=>e.modelValue,n=>{z("space",n),L(r,!0),t.animate()}),w(y,n=>{z("offset",n)}),w(()=>e.reveal,n=>{n===!1&&L(r,e.modelValue)}),w(r,n=>{t.animate(),a("reveal",n)}),w([i,t.scroll,t.height],l),w(()=>o.screen.height,n=>{t.isContainer.value!==!0&&L(f,n)});const v={};return t.instances.footer=v,e.modelValue===!0&&z("size",i.value),z("space",e.modelValue),z("offset",y.value),k(()=>{t.instances.footer===v&&(t.instances.footer=void 0,z("size",0),z("offset",0),z("space",!1))}),()=>{const n=oe(h.default,[b(E,{debounce:0,onResize:H})]);return e.elevated===!0&&n.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),b("footer",{class:u.value,style:S.value,onFocusin:q},n)}}}),{passive:Z}=U,Le=["both","horizontal","vertical"],Te=Q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Le.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:le},emits:["scroll"],setup(e,{emit:h}){const a={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,t,i;w(()=>e.scrollTarget,()=>{d(),f()});function r(){o?.();const s=Math.max(0,re(t)),V=se(t),u={top:s-a.position.top,left:V-a.position.left};if(e.axis==="vertical"&&u.top===0||e.axis==="horizontal"&&u.left===0)return;const S=Math.abs(u.top)>=Math.abs(u.left)?u.top<0?"up":"down":u.left<0?"left":"right";a.position={top:s,left:V},a.directionChanged=a.direction!==S,a.delta=u,a.directionChanged===!0&&(a.direction=S,a.inflectionPoint=a.position),h("scroll",{...a})}function f(){t=ie(i,e.scrollTarget),t.addEventListener("scroll",c,Z),c(!0)}function d(){t!==void 0&&(t.removeEventListener("scroll",c,Z),t=void 0)}function c(s){if(s===!0||e.debounce===0||e.debounce==="0")r();else if(o===null){const[V,u]=e.debounce?[setTimeout(r,e.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];o=()=>{u(V),o=null}}}const{proxy:y}=P();return w(()=>y.$q.lang.rtl,r),R(()=>{i=y.$el.parentNode,f()}),k(()=>{o?.(),d()}),Object.assign(y,{trigger:c,getPosition:()=>a}),ee}}),Ce=Q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:h,emit:a}){const{proxy:{$q:o}}=P(),t=p(null),i=p(o.screen.height),r=p(e.container===!0?0:o.screen.width),f=p({position:0,direction:"down",inflectionPoint:0}),d=p(0),c=p(j.value===!0?0:D()),y=m(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),s=m(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),V=m(()=>c.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),u=m(()=>c.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function S(v){if(e.container===!0||document.qScrollPrevented!==!0){const n={position:v.position.top,direction:v.direction,directionChanged:v.directionChanged,inflectionPoint:v.inflectionPoint.top,delta:v.delta.top};f.value=n,e.onScroll!==void 0&&a("scroll",n)}}function z(v){const{height:n,width:g}=v;let x=!1;i.value!==n&&(x=!0,i.value=n,e.onScrollHeight!==void 0&&a("scrollHeight",n),H()),r.value!==g&&(x=!0,r.value=g),x===!0&&e.onResize!==void 0&&a("resize",v)}function L({height:v}){d.value!==v&&(d.value=v,H())}function H(){if(e.container===!0){const v=i.value>d.value?D():0;c.value!==v&&(c.value=v)}}let l=null;const q={instances:{},view:m(()=>e.view),isContainer:m(()=>e.container),rootRef:t,height:i,containerHeight:d,scrollbarWidth:c,totalWidth:m(()=>r.value+c.value),rows:m(()=>{const v=e.view.toLowerCase().split(" ");return{top:v[0].split(""),middle:v[1].split(""),bottom:v[2].split("")}}),header:B({size:0,offset:0,space:!1}),right:B({size:300,offset:0,space:!1}),footer:B({size:0,offset:0,space:!1}),left:B({size:300,offset:0,space:!1}),scroll:f,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(v,n,g){q[v][n]=g}};if(te(N,q),D()>0){let v=function(){x=null,K.classList.remove("hide-scrollbar")},n=function(){if(x===null){if(K.scrollHeight>o.screen.height)return;K.classList.add("hide-scrollbar")}else clearTimeout(x);x=setTimeout(v,300)},g=function(G){x!==null&&G==="remove"&&(clearTimeout(x),v()),window[`${G}EventListener`]("resize",n)},x=null;const K=document.body;w(()=>e.container!==!0?"add":"remove",g),e.container!==!0&&g("add"),ue(()=>{g("remove")})}return()=>{const v=oe(h.default,[b(Te,{onScroll:S}),b(E,{onResize:z})]),n=b("div",{class:y.value,style:s.value,ref:e.container===!0?void 0:t,tabindex:-1},v);return e.container===!0?b("div",{class:"q-layout-container overflow-hidden",ref:t},[b(E,{onResize:L}),b("div",{class:"absolute-full",style:V.value},[b("div",{class:"scroll",style:u.value},[n])])]):n}}}),Qe={key:1,class:"q-pa-md q-gutter-md"},Oe=ce({__name:"MainLayout",setup(e){const h=ye(),a=de(),o=be(),t=we(),i=p(!1),r=p(""),f=B({key:"",data:{content:"",listKey:"",price:0,quantity:0,done:!1}});R(async()=>{h.loading.show(),await o.carregarListas(),h.loading.hide()});const d=async()=>{r.value&&(await o.createList(r.value),await o.carregarListas(),r.value="",i.value=!1)},c=async()=>{if(h.loading.show(),!f.data.content||!f.data.quantity){h.loading.hide();return}f.data.listKey=a?.params?.id,await t.create(f.data),h.loading.hide(),i.value=!1,f.data.content="",f.data.quantity=0,f.data.price=0,await t.get()};return(y,s)=>{const V=fe("router-view");return F(),I(Ce,{id:"layout",view:"lHh Lpr lFf"},{default:T(()=>[$(Se,{elevated:""},{default:T(()=>[$(qe,null,{default:T(()=>[$(ze,null,{default:T(()=>s[7]||(s[7]=[X(" Minhas listas ")])),_:1}),y.$route.meta.backButton?(F(),I(M,{key:0,flat:"",round:"",dense:"",icon:"arrow_back",to:"/"})):ve("",!0)]),_:1})]),_:1}),$(pe,{modelValue:i.value,"onUpdate:modelValue":s[5]||(s[5]=u=>i.value=u)},{title:T(()=>[X(he(y.$route?.params?.id?"Adicionar item":"Adicionar lista"),1)]),actions:T(()=>[$(M,{flat:"",label:"confirmar",onClick:s[0]||(s[0]=u=>y.$route?.params?.id?c():d())})]),default:T(()=>[y.$route?.params?.id?(F(),me("div",Qe,[$(_,{filled:"",dense:"",modelValue:f.data.content,"onUpdate:modelValue":s[2]||(s[2]=u=>f.data.content=u),label:"Descrição",autofocus:"",onKeyup:O(c,["enter"])},null,8,["modelValue"]),$(_,{filled:"",dense:"",modelValue:f.data.quantity,"onUpdate:modelValue":s[3]||(s[3]=u=>f.data.quantity=u),label:"Quantidade",autofocus:"",onKeyup:O(c,["enter"])},null,8,["modelValue"]),$(_,{filled:"",dense:"",modelValue:f.data.price,"onUpdate:modelValue":s[4]||(s[4]=u=>f.data.price=u),autofocus:"",label:"Preço",onKeyup:O(c,["enter"])},null,8,["modelValue"])])):(F(),I(_,{key:0,dense:"",modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=u=>r.value=u),autofocus:"",onKeyup:O(d,["enter"])},null,8,["modelValue"]))]),_:1},8,["modelValue"]),$(xe,null,{default:T(()=>[$(V)]),_:1}),$($e,{class:"bg-transparent row justify-end items-center q-pa-md"},{default:T(()=>[$(M,{size:"lg",round:"",color:"primary",icon:"add",onClick:s[6]||(s[6]=u=>i.value=!0)})]),_:1})]),_:1})}}});export{Oe as default};
