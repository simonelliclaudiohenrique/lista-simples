import{Q as Z,a as ee}from"./QBanner-bxEdjsGL.js";import{b as te,h as ae,c as F,Q as S}from"./QBtn-B0-92AL-.js";import{f as oe,g as le,h as ne,i as se,u as re,Q as B,a as ue,b as ie}from"./localbase-CrwazLgz.js";import{r as C,a as u,h as c,a3 as ce,g as de,a4 as fe,a5 as _,a6 as K,c as me,y as P,v as T,o as ve,A as pe,H as A,C as h,B as x,F as E,K as p,D as g,E as i,I as Q,G as $,L as O,M as ge,N as be,J as L,O as z}from"./index-DvVnWaeK.js";import{u as ke}from"./listaItemStore-DqfogBTF.js";import"./pinia-CJsrchN2.js";function _e(a,r){const e=C(null),s=u(()=>a.disable===!0?null:c("span",{ref:e,class:"no-outline",tabindex:-1}));function d(o){const f=r.value;o?.qAvoidFocus!==!0&&(o?.type.indexOf("key")===0?document.activeElement!==f&&f?.contains(document.activeElement)===!0&&f.focus():e.value!==null&&(o===void 0||f?.contains(o.target)===!0)&&e.value.focus())}return{refocusTargetEl:s,refocusTarget:d}}const he={xs:30,sm:35,md:40,lg:50,xl:60},ye={...le,...ce,...oe,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:a=>a==="tf"||a==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ve=["update:modelValue"];function xe(a,r){const{props:e,slots:s,emit:d,proxy:o}=de(),{$q:f}=o,k=ne(e,f),y=C(null),{refocusTargetEl:l,refocusTarget:q}=_e(e,y),n=fe(e,he),m=u(()=>e.val!==void 0&&Array.isArray(e.modelValue)),I=u(()=>{const t=_(e.val);return m.value===!0?e.modelValue.findIndex(b=>_(b)===t):-1}),v=u(()=>m.value===!0?I.value!==-1:_(e.modelValue)===_(e.trueValue)),V=u(()=>m.value===!0?I.value===-1:_(e.modelValue)===_(e.falseValue)),M=u(()=>v.value===!1&&V.value===!1),D=u(()=>e.disable===!0?-1:e.tabindex||0),R=u(()=>`q-${a} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(k.value===!0?` q-${a}--dark`:"")+(e.dense===!0?` q-${a}--dense`:"")+(e.leftLabel===!0?" reverse":"")),U=u(()=>{const t=v.value===!0?"truthy":V.value===!0?"falsy":"indet",b=e.color!==void 0&&(e.keepColor===!0||V.value!==!0)?` text-${e.color}`:"";return`q-${a}__inner relative-position non-selectable q-${a}__inner--${t}${b}`}),j=u(()=>{const t={type:"checkbox"};return e.name!==void 0&&Object.assign(t,{".checked":v.value,"^checked":v.value===!0?"checked":void 0,name:e.name,value:m.value===!0?e.val:e.trueValue}),t}),H=se(j),G=u(()=>{const t={tabindex:D.value,role:"checkbox","aria-label":e.label,"aria-checked":M.value===!0?"mixed":v.value===!0?"true":"false"};return e.disable===!0&&(t["aria-disabled"]="true"),t});function w(t){t!==void 0&&(K(t),q(t)),e.disable!==!0&&d("update:modelValue",J(),t)}function J(){if(m.value===!0){if(v.value===!0){const t=e.modelValue.slice();return t.splice(I.value,1),t}return e.modelValue.concat([e.val])}if(v.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(V.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function W(t){(t.keyCode===13||t.keyCode===32)&&K(t)}function X(t){(t.keyCode===13||t.keyCode===32)&&w(t)}const Y=r(v,M);return Object.assign(o,{toggle:w}),()=>{const t=Y();e.disable!==!0&&H(t,"unshift",` q-${a}__native absolute q-ma-none q-pa-none`);const b=[c("div",{class:U.value,style:n.value,"aria-hidden":"true"},t)];l.value!==null&&b.push(l.value);const N=e.label!==void 0?te(s.default,[e.label]):ae(s.default);return N!==void 0&&b.push(c("div",{class:`q-${a}__label q-anchor--skip`},N)),c("div",{ref:y,class:R.value,...G.value,onClick:w,onKeydown:W,onKeyup:X},b)}}const Ce=()=>c("div",{key:"svg",class:"q-checkbox__bg absolute"},[c("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[c("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),c("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),qe=me({name:"QCheckbox",props:ye,emits:Ve,setup(a){const r=Ce();function e(s,d){const o=u(()=>(s.value===!0?a.checkedIcon:d.value===!0?a.indeterminateIcon:a.uncheckedIcon)||null);return()=>o.value!==null?[c("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[c(F,{class:"q-checkbox__icon",name:o.value})])]:[r]}return xe("checkbox",e)}}),Ie={class:"q-pa-md q-gutter-md"},we={class:"row"},Se={class:"col-6"},Be={class:"row items-center"},Qe={class:"col-6 row items-center justify-end"},$e={class:"col"},Le={class:"col"},Me={class:"col"},Ne=P({__name:"ListItemComponent",setup(a){const r=re(),e=ke(),s=C(!1),d=C(""),o=T({key:"",data:{content:"",listKey:"",price:0,quantity:0,done:!1}}),f=y=>{d.value=y,s.value=!0},k=async()=>{r.loading.show(),await e.update(d.value,o.data),await e.get(),s.value=!1,r.loading.hide()};return ve(async()=>{r.loading.show(),await e.get(),r.loading.hide()}),(y,l)=>{const q=pe("ModalComponent");return h(),A("div",null,[s.value?(h(),x(q,{key:0,modelValue:s.value,"onUpdate:modelValue":l[3]||(l[3]=n=>s.value=n)},{title:g(()=>l[5]||(l[5]=[$(" Atualizar lista ")])),actions:g(()=>[i(S,{flat:"",label:"confirmar",onClick:k})]),default:g(()=>[i(B,{filled:"",dense:"",modelValue:o.data.content,"onUpdate:modelValue":l[0]||(l[0]=n=>o.data.content=n),label:"Descrição",autofocus:"",onKeyup:Q(k,["enter"])},null,8,["modelValue"]),i(B,{filled:"",dense:"",modelValue:o.data.quantity,"onUpdate:modelValue":l[1]||(l[1]=n=>o.data.quantity=n),label:"Quantidade",autofocus:"",onKeyup:Q(k,["enter"])},null,8,["modelValue"]),i(B,{filled:"",dense:"",modelValue:o.data.price,"onUpdate:modelValue":l[2]||(l[2]=n=>o.data.price=n),autofocus:"",label:"Preço",onKeyup:Q(k,["enter"])},null,8,["modelValue"])]),_:1},8,["modelValue"])):E("",!0),p("div",Ie,[O(e).itemsList.length===0?(h(),x(Z,{key:0,rounded:"",class:"bg-primary text-white"},{avatar:g(()=>[i(F,{name:"info"})]),default:g(()=>[l[6]||(l[6]=$(" Nenhum item cadastrado "))]),_:1})):E("",!0),(h(!0),A(ge,null,be(O(e).itemsList,n=>(h(),x(ie,{key:n?.key,class:"my-card"},{default:g(()=>[i(ue,null,{default:g(()=>[p("div",we,[p("div",Se,[p("div",Be,[i(qe,{modelValue:n.data.done,"onUpdate:modelValue":m=>n.data.done=m},null,8,["modelValue","onUpdate:modelValue"]),$(" "+L(n.data.content),1)])]),p("div",Qe,[p("div",$e,L(n.data.quantity),1),p("div",Le,L((n.data.price||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1),p("div",Me,[i(S,{size:"sm",color:"primary",flat:"",round:"",dense:"",icon:"edit",onClick:z(m=>f(n.key),["stop"])},null,8,["onClick"]),i(S,{size:"sm",color:"primary",flat:"",round:"",dense:"",icon:"delete",onClick:l[4]||(l[4]=z(()=>{},["stop"]))})])])])]),_:2},1024)]),_:2},1024))),128))])])}}}),Pe=P({__name:"listItems",setup(a){const r=T([]);return(e,s)=>(h(),x(ee,{class:""},{default:g(()=>[i(Ne,{title:"Example component",active:"",lists:r},null,8,["lists"])]),_:1}))}});export{Pe as default};
